<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css"><link rel="stylesheet" href="css/L.Control.Locate.min.css">
        <link rel="stylesheet" href="css/qgis2web.css"><link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/MarkerCluster.css">
        <link rel="stylesheet" href="css/MarkerCluster.Default.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/contact style.css">

        <style>
        #map {
            width: 1729px;
            height: 1173px;
        }
        </style>
        <title></title>
    </head>
    <body>
        <header>
            <div class="wrapper">
                    <div class="logo">
                        <span class="logo-title">Lightning <b> Points</b></span>
                    </div>
                </div>
                <ul class="nav-area">
                    <li><a href="file:///D:/OneDrive%20-%20Imperial%20Valley%20College/%D7%9C%D7%99%D7%9E%D7%95%D7%93%D7%99%D7%9D/gis/%D7%A4%D7%A8%D7%95%D7%99%D7%A7%D7%98/website/Lightning%20Points%20Website/index.html">Home</a></li>
                    <li><a href="file:///D:/OneDrive%20-%20Imperial%20Valley%20College/%D7%9C%D7%99%D7%9E%D7%95%D7%93%D7%99%D7%9D/gis/%D7%A4%D7%A8%D7%95%D7%99%D7%A7%D7%98/website/Lightning%20Points%20Website/about%20us%20page.html">About</a></li>
                    <li><a href="file:///D:/OneDrive%20-%20Imperial%20Valley%20College/%D7%9C%D7%99%D7%9E%D7%95%D7%93%D7%99%D7%9D/gis/%D7%A4%D7%A8%D7%95%D7%99%D7%A7%D7%98/website/Lightning%20Points%20Website/contact%20page2.html">Contact</a></li>
                </ul>
            </div>
            <div class="welcome-text">
                <h1>
                    Find Your <span>Point</span>
                </h1>
            </div>
            </header>
        

        <div id="map" class="map-wrapper">
            <script src="js/qgis2web_expressions.js"></script>
            <script src="js/leaflet.js"></script><script src="js/L.Control.Locate.min.js"></script>
            <script src="js/leaflet.rotatedMarker.js"></script>
            <script src="js/leaflet.pattern.js"></script>
            <script src="js/leaflet-hash.js"></script>
            <script src="js/Autolinker.min.js"></script>
            <script src="js/rbush.min.js"></script>
            <script src="js/labelgun.min.js"></script>
            <script src="js/labels.js"></script>
            <script src="js/leaflet.markercluster.js"></script>
            <script src="data/Type_slow_3.js"></script>
            <script src="data/Type_fast_4.js"></script>
            <script src="data/Type_tesla_5.js"></script>
            <script>

            var map = L.map('map', {
                zoomControl:true, maxZoom:28, minZoom:1,
             }).fitBounds([[31.960642458572675,34.689718198169054],[32.081994951414806,34.90080681884344]]);
            var hash = new L.Hash(map);
            map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
            var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
            L.control.locate({locateOptions: {maxZoom: 19}}).addTo(map);
            var bounds_group = new L.featureGroup([]);
            function setBounds() {
            }
            map.createPane('pane_GoogleSatelliteHybrid_0');
            map.getPane('pane_GoogleSatelliteHybrid_0').style.zIndex = 400;
            var layer_GoogleSatelliteHybrid_0 = L.tileLayer('https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}', {
                pane: 'pane_GoogleSatelliteHybrid_0',
                opacity: 1.0,
                attribution: '',
                minZoom: 1,
                maxZoom: 28,
                minNativeZoom: 0,
                maxNativeZoom: 19
            });
            layer_GoogleSatelliteHybrid_0;
            map.addLayer(layer_GoogleSatelliteHybrid_0);
            map.createPane('pane_GoogleSatellite_1');
            map.getPane('pane_GoogleSatellite_1').style.zIndex = 401;
            var layer_GoogleSatellite_1 = L.tileLayer('https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
                pane: 'pane_GoogleSatellite_1',
                opacity: 1.0,
                attribution: '',
                minZoom: 1,
                maxZoom: 28,
                minNativeZoom: 0,
                maxNativeZoom: 19
            });
            layer_GoogleSatellite_1;
            map.addLayer(layer_GoogleSatellite_1);
            map.createPane('pane_OSMStandard_2');
            map.getPane('pane_OSMStandard_2').style.zIndex = 402;
            var layer_OSMStandard_2 = L.tileLayer('http://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                pane: 'pane_OSMStandard_2',
                opacity: 1.0,
                attribution: '<a href="https://www.openstreetmap.org/copyright">Â© OpenStreetMap contributors, CC-BY-SA</a>',
                minZoom: 1,
                maxZoom: 28,
                minNativeZoom: 0,
                maxNativeZoom: 19
            });
            layer_OSMStandard_2;
            map.addLayer(layer_OSMStandard_2);
            function pop_Type_slow_3(feature, layer) {
                var popupContent = '<table>\
                        <tr>\
                            <td colspan="2"><strong>Address</strong><br />' + (feature.properties['Address'] !== null ? autolinker.link(feature.properties['Address'].toLocaleString()) : '') + '</td>\
                        </tr>\
                        <tr>\
                            <th scope="row">Slow Chargers</th>\
                            <td>' + (feature.properties['Slow'] !== null ? autolinker.link(feature.properties['Slow'].toLocaleString()) : '') + '</td>\
                        </tr>\
                        <tr>\
                            <td colspan="2"><strong>Navigate using Waze</strong><br />' + (feature.properties['Waze'] !== null ? autolinker.link(feature.properties['Waze'].toLocaleString()) : '') + '</td>\
                        </tr>\
                    </table>';
                layer.bindPopup(popupContent, {maxHeight: 400});
                layer.on('click', function (e) {
                    if(map.getZoom()<15){
                        map.flyTo(e.latlng, 15)
                    }
                    else{
                        map.setView(e.latlng)
                    }
                });
            }
            function style_Type_slow_3_0() {
                return {
                    pane: 'pane_Type_slow_3',
            rotationAngle: -0.00872665,
            rotationOrigin: 'center center',
            icon: L.icon({
                iconUrl: 'markers/normal_charge.svg',
                iconSize: [38.0, 38.0]
            }),
                    interactive: true,
                }
            }
            map.createPane('pane_Type_slow_3');
            map.getPane('pane_Type_slow_3').style.zIndex = 403;
            map.getPane('pane_Type_slow_3').style['mix-blend-mode'] = 'normal';
            var layer_Type_slow_3 = new L.geoJson(json_Type_slow_3, {
                attribution: '',
                interactive: true,
                dataVar: 'json_Type_slow_3',
                layerName: 'layer_Type_slow_3',
                pane: 'pane_Type_slow_3',
                onEachFeature: pop_Type_slow_3,
                pointToLayer: function (feature, latlng) {
                    var context = {
                        feature: feature,
                        variables: {}
                        
                    };
                    return L.marker(latlng, style_Type_slow_3_0(feature));
                },
            });
            var cluster_Type_slow_3 = new L.MarkerClusterGroup({showCoverageOnHover: false,
                spiderfyDistanceMultiplier: 2});
            cluster_Type_slow_3.addLayer(layer_Type_slow_3);
    
            bounds_group.addLayer(layer_Type_slow_3);
            cluster_Type_slow_3.addTo(map);
            function pop_Type_fast_4(feature, layer) {
                var popupContent = '<table>\
                        <tr>\
                            <td colspan="2"><strong>Address</strong><br />' + (feature.properties['Address'] !== null ? autolinker.link(feature.properties['Address'].toLocaleString()) : '') + '</td>\
                        </tr>\
                        <tr>\
                            <th scope="row">Slow Chargers</th>\
                            <td>' + (feature.properties['Slow'] !== null ? autolinker.link(feature.properties['Slow'].toLocaleString()) : '') + '</td>\
                        </tr>\
                        <tr>\
                            <th scope="row">Fast Chargers</th>\
                            <td>' + (feature.properties['Fast'] !== null ? autolinker.link(feature.properties['Fast'].toLocaleString()) : '') + '</td>\
                        </tr>\
                        <tr>\
                            <td colspan="2"><strong>Navigate using Waze</strong><br />' + (feature.properties['Waze'] !== null ? autolinker.link(feature.properties['Waze'].toLocaleString()) : '') + '</td>\
                        </tr>\
                    </table>';
                layer.bindPopup(popupContent, {maxHeight: 400});
                layer.on('click', function (e) {
                    if(map.getZoom()<15){
                        map.flyTo(e.latlng, 15)
                    }
                    else{
                        map.setView(e.latlng)
                    }
                });
            }
    
            function style_Type_fast_4_0() {
                return {
                    pane: 'pane_Type_fast_4',
            rotationAngle: 0.0,
            rotationOrigin: 'center center',
            icon: L.icon({
                iconUrl: 'markers/fast_charge.svg',
                iconSize: [38.0, 38.0]
            }),
                    interactive: true,
                }
            }
            map.createPane('pane_Type_fast_4');
            map.getPane('pane_Type_fast_4').style.zIndex = 404;
            map.getPane('pane_Type_fast_4').style['mix-blend-mode'] = 'normal';
            var layer_Type_fast_4 = new L.geoJson(json_Type_fast_4, {
                attribution: '',
                interactive: true,
                dataVar: 'json_Type_fast_4',
                layerName: 'layer_Type_fast_4',
                pane: 'pane_Type_fast_4',
                onEachFeature: pop_Type_fast_4,
                pointToLayer: function (feature, latlng) {
                    var context = {
                        feature: feature,
                        variables: {}
                    };
                    return L.marker(latlng, style_Type_fast_4_0(feature));
                },
            });
            var cluster_Type_fast_4 = new L.MarkerClusterGroup({showCoverageOnHover: false,
                spiderfyDistanceMultiplier: 2});
            cluster_Type_fast_4.addLayer(layer_Type_fast_4);
    
            bounds_group.addLayer(layer_Type_fast_4);
            cluster_Type_fast_4.addTo(map);
            function pop_Type_tesla_5(feature, layer) {
                var popupContent = '<table>\
                        <tr>\
                            <td colspan="2"><strong>Address</strong><br />' + (feature.properties['Address'] !== null ? autolinker.link(feature.properties['Address'].toLocaleString()) : '') + '</td>\
                        </tr>\
                        <tr>\
                            <th scope="row">Tesla Superchargers</th>\
                            <td>' + (feature.properties['Tesla'] !== null ? autolinker.link(feature.properties['Tesla'].toLocaleString()) : '') + '</td>\
                        </tr>\
                        <tr>\
                            <td colspan="2"><strong>Navigate using Waze</strong><br />' + (feature.properties['Waze'] !== null ? autolinker.link(feature.properties['Waze'].toLocaleString()) : '') + '</td>\
                        </tr>\
                    </table>';
                layer.bindPopup(popupContent, {maxHeight: 400});
                layer.on('click', function (e) {
                    if(map.getZoom()<15){
                        map.flyTo(e.latlng, 15)
                    }
                    else{
                        map.setView(e.latlng)
                    }
                });
            }
    
            function style_Type_tesla_5_0() {
                return {
                    pane: 'pane_Type_tesla_5',
            rotationAngle: 0.0,
            rotationOrigin: 'center center',
            icon: L.icon({
                iconUrl: 'markers/teslasuperchargers.svg',
                iconSize: [38.0, 38.0]
            }),
                    interactive: true,
                }
            }
            map.createPane('pane_Type_tesla_5');
            map.getPane('pane_Type_tesla_5').style.zIndex = 405;
            map.getPane('pane_Type_tesla_5').style['mix-blend-mode'] = 'normal';
            var layer_Type_tesla_5 = new L.geoJson(json_Type_tesla_5, {
                attribution: '',
                interactive: true,
                dataVar: 'json_Type_tesla_5',
                layerName: 'layer_Type_tesla_5',
                pane: 'pane_Type_tesla_5',
                onEachFeature: pop_Type_tesla_5,
                pointToLayer: function (feature, latlng) {
                    var context = {
                        feature: feature,
                        variables: {}
                    };
                    return L.marker(latlng, style_Type_tesla_5_0(feature));
                },
            });
            var cluster_Type_tesla_5 = new L.MarkerClusterGroup({showCoverageOnHover: false,
                spiderfyDistanceMultiplier: 2});
            cluster_Type_tesla_5.addLayer(layer_Type_tesla_5);
    
            bounds_group.addLayer(layer_Type_tesla_5);
            cluster_Type_tesla_5.addTo(map);

            var baseMaps = {
                "Satellite Street Map": layer_GoogleSatelliteHybrid_0,
                "Satellite Map": layer_GoogleSatellite_1,
                "Standard Map": layer_OSMStandard_2
            };
            
            L.control.layers(baseMaps,{'<img src="legend/Type_tesla_5.png" /> Tesla Superchargers': cluster_Type_tesla_5,'<img src="legend/Type_fast_4.png" /> Fast Chargers': cluster_Type_fast_4,'<img src="legend/Type_slow_3.png" /> Slow Chargers': cluster_Type_slow_3,}).addTo(map);
            setBounds();

            </script>
        </div>
    </body>
</html>
